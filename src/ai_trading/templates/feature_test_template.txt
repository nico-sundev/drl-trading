from unittest.mock import MagicMock, patch
from pandas import DataFrame, Series, to_datetime
import pytest
from ai_trading.preprocess.feature.collection.${feature_name}_feature import ${FeatureName}Feature


@pytest.fixture
def mock_data() -> DataFrame:
    data = {"Time": [], "Open": [], "High": [], "Low": [], "Close": []}

    # Create the DataFrame
    df = DataFrame(data)

    # Convert Time column to datetime
    df["Time"] = to_datetime(df["Time"])
    return df


@pytest.fixture
def feature(mock_data):
    return ${FeatureName}Feature(mock_data, "test")


@pytest.fixture
def config():
    mock_config = MagicMock()
    mock_config.length = 14
    return mock_config

@patch("pandas_ta.${feature_name}")
def test_${feature_name}_feature_computation(patched_${feature_name}, feature, config):
    df = pd.DataFrame({
        "Time": pd.date_range("2020-01-01", periods=10),
        "Close": range(10),
        "Open": range(10),
        "High": range(10),
        "Low": range(10),
    })
    feature = ${FeatureName}Feature(df)
    # config = ...  # Insert mock config here
    # result = feature.compute(config)
    # assert not result.empty
    assert True  # Placeholder
